{
    "inputOutput":{
        "input_fastqs":"/dir/fastqs/",
        "input_fastqc":"",
        "analysis_output_dir":"/dir/output/",
        "analysis_temp_dir":"/dir/snake_temp/",
        "sample_map":"/dir/sample_map.tsv",
        "malignant_cell_type":"melanoma",
    },
    "resources":{
        "pathwayDB":"../required_files/hallmark_human_MAPK_and_filtered_converted.gmt",
        "drugList":"../required_files/melanoma_drug_list_converted_corrected.txt",
        "drugCombinations":"../required_files/drug_combinations_melanoma.txt",
        "civicDict":"../required_files/drug_synonyms_civic.txt",
        "reference_transcriptome":"/resources/refdata-cellranger-GRCh38-3.0.0",
        "transcriptome_code":"GRCh38",
        "celltype_lists":"../required_files/celltype_list_melanoma.gmx",
        "celltype_config":"./celltype_config_melanoma.tsv",
        "colour_config":"./colour_config_melanoma.txt",
        "genesets":"../required_files/hallmark_human_MAPK_and_filtered.gmt",
        "priority_genes":"../required_files/selected_genes_melanoma.txt"
    },
    "tools":{
        "cellranger_count":{
            "call":"cellranger",
            "local_cores":24,
            "scratch":"20000",
            "mem":"6000",
            "time":"1440",
            "threads":24,
            "variousParams":"",
            "cellranger_sampleName":"SAMPLE_NAME_CANNOT_CONTAIN_DOTS"
        },
        "create_hd5":{
            "call":"python ../scripts/create_hdf5.py ",
            "scratch":"2000",
            "mem":"2000",
            "time":"100",
            "threads":4
        },
        "identify_doublets":{
            "call":"Rscript ../scripts/identify_doublets.R ",
            "scratch":"1000",
            "mem":"8000",
            "time":"400",
            "threads":4
        },
        "filter_genes_and_cells":{
            "call":"Rscript ../scripts/filter_genes_and_cells.R ",
            "nmads_fractionMT":"100",
            "nmads_NODG":"100",
            "threshold_NODG":"400",
            "threshold_fractionMT":"0.5",
            "genomeVersion":"GRCh38",
            "remove_doublets":"TRUE",
            "scratch":"2000",
            "mem":"8000",
            "time":"100",
            "threads":4
        },
        "sctransform_preprocessing":{
            "call":"Rscript ../scripts/sctransform_preprocessing.R ",
            "scratch":"2000",
            "mem":"4000",
            "time":"200",
            "threads":4,
            "number_genes":"2000",
            "min_var":"1.5",
            "n_nn":"30"
        },
        "clustering":{
            "phenograph":{
                "call":"python ../scripts/apply_phenograph.py ",
                "n_neighbours":30,
                "log_normalize":false,
                "min_cluster_size":20,
                "scratch":"2000",
                "mem":"1000",
                "time":"100",
                "threads":1
            }
        },
        "prepare_celltyping":{
            "call":"Rscript ../scripts/prepare_celltyping.R ",
            "scratch":"2000",
            "mem":"4000",
            "time":"200",
            "threads":4
        },
        "cell_type_classification":{
            "call":"Rscript ../scripts/celltyping.r ",
            "min_genes":"5",
            "scratch":"2000",
            "mem":"4000",
            "time":"300",
            "threads":4
        },
        "remove_atypical":{
            "call":"Rscript ../scripts/filter_out_atypical_cells.R ",
            "scratch":"2000",
            "mem":"4000",
            "time":"100",
            "threads":4,
            "threshold_filter":"5",
            "min_threshold":"5",
            "threshold_type":"percentage_cells"
        },
        "gsva":{
            "call":"Rscript ../scripts/gsva.r ",
            "scratch":"2000",
            "mem":"4000",
            "time":"200",
            "threads":4
        },
        "plotting":{
            "call":"Rscript ../scripts/scRNA_pipeline_plotting.R ",
            "use_alias":"TRUE",
            "scratch":"2000",
            "mem":"4000",
            "time":"100",
            "threads":4
        },
        "diff_exp":{
            "call":"Rscript ../scripts/apply_DE_analysis.R",
            "threshold_comparison":"20",
            "fdr_cut":"0.01",
            "fc_cut":"2",
            "mindiff2second":"1",
            "minNumberNonMalignant":"2",
            "scratch":"2000",
            "mem":"12000",
            "time":"800",
            "threads":4
        },
        "gene_exp":{
            "call":"Rscript ../scripts/get_cluster_gene_expression.R ",
            "scratch":"2000",
            "mem":"8000",
            "time":"100",
            "threads":1,
            "threshold_sample":"0",
            "type_sample":"number_cells"
        },
        "parseAndFilter_DEgenes":{
            "call":"python ../scripts/parseAndFilter_DEgenes.py ",
            "scratch":"2000",
            "mem":"300",
            "time":"100",
            "threads":1,
            "variousParams":"0.01 gene_names padj diff test_statistic nonmal_max nonmal_min malig_mean 1 1 'pct_nonzero'"
        },
        "annotateClinical":{
            "call":"python ../scripts/annotateWithClinicalInfo.py ",
            "scratch":"2000",
            "mem":"200",
            "time":"100",
            "threads":1,
            "variousParams":"--colName_gene gene_names"
        },
        "queryDGIDB":{
            "call":"Rscript ../scripts/query_dgidb.r ",
            "scratch":"2000",
            "mem":"200",
            "time":"239",
            "threads":1,
            "colName_genes":"gene_names",
            "minDatabaseNum":"4"
        },
        "queryCIVIC":{
            "call":"python ../scripts/Query_CIViC_expr.py ",
            "scratch":"2000",
            "mem":"2000",
            "time":"200",
            "threads":1,
            "cancerType":"melanoma",
            "blackList":"",
            "highLevel":"solid tumor",
            "colName_gene":"gene_names",
            "colName_logFC":"diff",
            "strictExpression":"y"
        },
        "geneSetEnrichment":{
            "call":"Rscript ../scripts/GeneSetEnrichmentAnalysis.R ",
            "scratch":"2000",
            "mem":"200",
            "time":"200",
            "threads":4,
            "variousParams":"test_statistic"
        },
        "plotGeneSetEnrichment":{
            "call":"Rscript ../scripts/plot_genesets_heatmap.R ",
            "scratch":"2000",
            "mem":"200",
            "time":"100",
            "threads":4,
            "variousParams":""
        },
        "queryClinicalTrials":{
            "call":"python ../scripts/queryClinicalTrials.py ",
            "scratch":"3000",
            "mem":"500",
            "time":"200",
            "threads":8,
            "whiteList":"melanoma,solid tumor",
            "blackList":""
        },
        "downloadClinicalTrials":{
            "scratch":"5000",
            "mem":"500",
            "time":"1200",
            "threads":12,
            "cancerType":"cancer"
        },
        "cellPercentInCluster":{
            "call":"python ../scripts/count_cells_in_clusters.py ",
            "scratch":"2000",
            "mem":"200",
            "time":"100",
            "threads":1,
            "variousParams":"--malignant Melanoma"
        },
        "plot_tSNE_nonmalignant":{
            "call":"Rscript ../scripts/plot_tSNEs_non_malignant_cell_libraries.R ",
            "scratch":"2000",
            "mem":"32000",
            "time":"200",
            "threads":1,
            "variousParams":""
        },
        "parseDgidbTrialsTable_for_minSetCover":{
            "call":"python ../scripts/parseDgidbTrialsTable_for_minSetCover.py ",
            "scratch":"2000",
            "mem":"200",
            "time":"100",
            "threads":1,
            "colName_DGIDB_score":"Score",
            "colName_clinTrial":"ClinicalTrials"
        },
        "findminSetCover":{
            "call":"python ../scripts/minSetCover.py ",
            "scratch":"2000",
            "mem":"200",
            "time":"100",
            "threads":1,
            "variousParams":"--considerClusterSize no"
        },
        "filterDrugs":{
            "call":"python ../scripts/filter_by_drug_list.py ",
            "scratch":"2000",
            "mem":"200",
            "time":"200",
            "threads":1,
            "variousParams":""
        },
        "preprocessForUpSetR":{
            "call":"python ../scripts/preprocess_parsedTrialsTable_forUpsetplot.py ",
            "scratch":"2000",
            "mem":"200",
            "time":"200",
            "threads":1
        },
        "plotUpSetR":{
            "call":"Rscript ../scripts/generate_upsetplot_drugs_targeting_clusters.R",
            "scratch":"2000",
            "mem":"200",
            "time":"200",
            "threads":1,
            "variousParams":"--nintersects 20 --nsets 100"
        },
        "generate_qc_plots":{
            "call":"Rscript ../scripts/generate_QC_plots.R ",
            "scratch":"2000",
            "mem":"8000",
            "time":"100",
            "threads":4
        },
        "generate_cell_type_boxplot":{
            "call":"Rscript ../scripts/generate_boxplot_fractions_celltypes.R ",
            "scratch":"2000",
            "mem":"4000",
            "time":"100",
            "threads":4
        },
        "sample_integration":{
            "call":"Rscript ../scripts/sample_integration.R ",
            "scratch":"2000",
            "mem":"10000",
            "time":"200",
            "threads":12
        },
        "show_drugPrediction_on_clones":{
            "call":"Rscript ../scripts/show_drugPrediction_on_clones.R ",
            "scratch":"2000",
            "mem":"4000",
            "time":"200",
            "threads":4,
            "variousParams":"--drugPredEnd 'clinicalAnnotation.civic.txt' --name_DGIDB 'DGIDB-drugs(Score,Type)' --name_CIVIC 'CIViC_Drug_Support'"
        },
        "get_full_druglist_to_subclones":{
            "call":"python ../scripts/get_full_druglist_to_subclones_assignm.py ",
            "scratch":"2000",
            "mem":"1000",
            "time":"400",
            "threads":4
        }
    }
}
